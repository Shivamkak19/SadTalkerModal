import os
import base64
from google.oauth2 import service_account
from google.cloud import storage, firestore

TYPE="service_account"
PROJECT_ID="storm-flask"
PRIVATE_KEY_ID="1b03955c50e4786ff0e9c37bdfeb4cdffbfbb20c"
# PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDPPmJ3e9iFfhRN\n5yipihiRTqHe0hsDV/Qm4UliWwvvRlhjQl2lmFUAmzwA3OXSSDQ9RlZ1imd+UdRU\n/P9PjxB+432iFU/OsXwRNZl2KPAV3+i+wmJzHdTzJh9EoWK339cLtn/BzOsF/gnw\nu6RoHajFkSTqzePqoxB8wAeVoEi6Tp6CZvp5pd7YHeqmZNtv6VDIQku0/4TYhmwn\nrBuSX9r013XmHHrcdypElw+EYK0pG463rRDQMHszN2RhOU5LTxsgh/Oe8Bm3UV6M\nF6uhLEH0fAUhh6zlCZpyKqo5n24GDtPV5uBano/6gDWZZsjGadh/4ibTpsLczOg9\nw+aTPdyhAgMBAAECggEABg5OkCtiuQllcF6UrQoZlE7r+tvwwULx4ew3wc+TaGQ5\nx1pATGtIchhnKycJUfENUjxOwNfo1OuRGOPs9bsibjPJdznYU3vTGllirO3OsLPy\nnBbn67FbqHiE5cNxxBne0cM9JdmOJVZeXd4M1IRH2xCWB6S5MBFAZUXS/unAcE23\n7q/6u+9uYoy0tQ9rcDfp9MAmLQnXflSsPOAGiRtQFNuno/ov9bMP0Qh3A5r563Y0\nuxKOQZ8KgM1feBtW1cWNskXClC5IkoIRhsgw/EPLm3vHWvjZR8mz/Pw82e77Xmvh\nsWaXn6PL+z+ZihCnt3a/1z4PzRh4XnzqIxc8XE+NUQKBgQD8H+ENHSAAUf4TFzJf\nsRee2CCF/32EwTcwsasDL3UolQAsrc8X/T+yYeBSw08Y5GngtQaTjFlqt8Waifed\nrtpAO98uM4NIqq6//iFxMZz6qrVko9CmtFk7TzXsth0yEfgPF0Bit+K29ivjX46y\n/ZKUb/F6YHUnkT8G0Pvdd8UvcQKBgQDSbeXCVCvLfoSIi7I+1kYuAHW7OUTwZxeu\nJkXAGZ17QGMLrWjj7WANyrKnY84cU5UOMhFC//nWVBwfpcWFHivr9/kbHVNvKsb9\n2lZoF6VrSylLNpz7XFyekxbZi9o4W2vY2bca8U4GLVDMfCwL+g4od6c2VWXLqI45\nHcuTf6hIMQKBgCPvc0dIOHBzP1B/ROnItwIn8fLHaJ+MXo5tNF++2ucO3biAiXz0\n1qhZNPz244Y7wC+L/cT4AyKn0N1m/skVy/vNzNCr/PFVipTI5wFYPfSocjRG+Q1Z\ntUIz1w7HIkApuX6FJOMtLH5Bdh3xV8iBRewsTHHR38Dk/eO907hMQumxAoGBAMV6\nCveuxBbJmZkG+HTN47iCB/p2yUKOjQOKuUSJBWhISWsJBvl3p//pbHV4TVH6AlT7\nGYX18UF5V5c/m7jMUs20vdr7T3RxAaPzhclT/5JMS+lgzDt8NxM92GC6RUVETlaI\nIrUvJVjYqA3uretjdGv3tj1gMRLKEQZ69rRqRcPRAoGBAJCZBAU1yXEIBJZdzXoH\nQq1sMqu31/sXVm84Cor9NqtrAFIF2FhKg7RQwTqJcSdPefaPOPnrtpKd26QcZn5q\nItUXKphtdl1sR5r08ziE5u5ljwbjhNPFF2BvacgeeOehDdTTmb+OaLRF4SGDGO1Z\n/ZW5zPu7eM/6wye8qeEkJa1U\n-----END PRIVATE KEY-----\n"
PRIVATE_KEY="LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2Z0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktnd2dnU2tBZ0VBQW9JQkFRRFBQbUozZTlpRmZoUk4KNXlpcGloaVJUcUhlMGhzRFYvUW00VWxpV3d2dlJsaGpRbDJsbUZVQW16d0EzT1hTU0RROVJsWjFpbWQrVWRSVQovUDlQanhCKzQzMmlGVS9Pc1h3Uk5abDJLUEFWMytpK3dtSnpIZFR6Smg5RW9XSzMzOWNMdG4vQnpPc0YvZ253CnU2Um9IYWpGa1NUcXplUHFveEI4d0FlVm9FaTZUcDZDWnZwNXBkN1lIZXFtWk50djZWRElRa3UwLzRUWWhtd24KckJ1U1g5cjAxM1htSEhyY2R5cEVsdytFWUswcEc0NjNyUkRRTUhzek4yUmhPVTVMVHhzZ2gvT2U4Qm0zVVY2TQpGNnVoTEVIMGZBVWhoNnpsQ1pweUtxbzVuMjRHRHRQVjV1QmFuby82Z0RXWlpzakdhZGgvNGliVHBzTGN6T2c5CncrYVRQZHloQWdNQkFBRUNnZ0VBQmc1T2tDdGl1UWxsY0Y2VXJRb1psRTdyK3R2d3dVTHg0ZXczd2MrVGFHUTUKeDFwQVRHdEljaGhuS3ljSlVmRU5VanhPd05mbzFPdVJHT1BzOWJzaWJqUEpkem5ZVTN2VEdsbGlyTzNPc0xQeQpuQmJuNjdGYnFIaUU1Y054eEJuZTBjTTlKZG1PSlZaZVhkNE0xSVJIMnhDV0I2UzVNQkZBWlVYUy91bkFjRTIzCjdxLzZ1Kzl1WW95MHRROXJjRGZwOU1BbUxRblhmbFNzUE9BR2lSdFFGTnVuby9vdjliTVAwUWgzQTVyNTYzWTAKdXhLT1FaOEtnTTFmZUJ0VzFjV05za1hDbEM1SWtvSVJoc2d3L0VQTG0zdkhXdmpaUjhtei9QdzgyZTc3WG12aApzV2FYbjZQTCt6K1ppaENudDNhLzF6NFB6Umg0WG56cUl4YzhYRStOVVFLQmdRRDhIK0VOSFNBQVVmNFRGekpmCnNSZWUyQ0NGLzMyRXdUY3dzYXNETDNVb2xRQXNyYzhYL1QreVllQlN3MDhZNUduZ3RRYVRqRmxxdDhXYWlmZWQKcnRwQU85OHVNNE5JcXE2Ly9pRnhNWno2cXJWa285Q210Rms3VHpYc3RoMHlFZmdQRjBCaXQrSzI5aXZqWDQ2eQovWktVYi9GNllIVW5rVDhHMFB2ZGQ4VXZjUUtCZ1FEU2JlWENWQ3ZMZm9TSWk3SSsxa1l1QUhXN09VVHdaeGV1CkprWEFHWjE3UUdNTHJXamo3V0FOeXJLblk4NGNVNVVPTWhGQy8vbldWQndmcGNXRkhpdnI5L2tiSFZOdktzYjkKMmxab0Y2VnJTeWxMTnB6N1hGeWVreGJaaTlvNFcydlkyYmNhOFU0R0xWRE1mQ3dMK2c0b2Q2YzJWV1hMcUk0NQpIY3VUZjZoSU1RS0JnQ1B2YzBkSU9IQnpQMUIvUk9uSXR3SW44ZkxIYUorTVhvNXRORisrMnVjTzNiaUFpWHowCjFxaFpOUHoyNDRZN3dDK0wvY1Q0QXlLbjBOMW0vc2tWeS92TnpOQ3IvUEZWaXBUSTV3RllQZlNvY2pSRytRMVoKdFVJejF3N0hJa0FwdVg2RkpPTXRMSDVCZGgzeFY4aUJSZXdzVEhIUjM4RGsvZU85MDdoTVF1bXhBb0dCQU1WNgpDdmV1eEJiSm1aa0crSFRONDdpQ0IvcDJ5VUtPalFPS3VVU0pCV2hJU1dzSkJ2bDNwLy9wYkhWNFRWSDZBbFQ3CkdZWDE4VUY1VjVjL203ak1VczIwdmRyN1QzUnhBYVB6aGNsVC81Sk1TK2xnekR0OE54TTkyR0M2UlVWRVRsYUkKSXJVdkpWallxQTN1cmV0amRHdjN0ajFnTVJMS0VRWjY5clJxUmNQUkFvR0JBSkNaQkFVMXlYRUlCSlpkelhvSApRcTFzTXF1MzEvc1hWbTg0Q29yOU5xdHJBRklGMkZoS2c3UlF3VHFKY1NkUGVmYVBPUG5ydHBLZDI2UWNabjVxCkl0VVhLcGh0ZGwxc1I1cjA4emlFNXU1bGp3YmpoTlBGRjJCdmFjZ2VlT2VoRGRUVG1iK09hTFJGNFNHREdPMVoKL1pXNXpQdTdlTS82d3llOHFlRWtKYTFVCi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K"
CLIENT_EMAIL="flask-server@storm-flask.iam.gserviceaccount.com"
CLIENT_ID="110527606993014508152"
AUTH_URI="https://accounts.google.com/o/oauth2/auth"
TOKEN_URI="https://oauth2.googleapis.com/token"
AUTH_PROVIDER_X509_CERT_URL="https://www.googleapis.com/oauth2/v1/certs"
CLIENT_X509_CERT_URL="https://www.googleapis.com/robot/v1/metadata/x509/flask-server%40storm-flask.iam.gserviceaccount.com"
UNIVERSE_DOMAIN="googleapis.com"


def get_credentials():
    encoded_private_key = PRIVATE_KEY
    decoded_private_key = base64.b64decode(encoded_private_key).decode("utf-8")

    credentials_info = {
        "type": TYPE,
        "project_id": PROJECT_ID,
        "private_key_id": PRIVATE_KEY_ID,
        "private_key": decoded_private_key,
        "client_email": CLIENT_EMAIL,
        "client_id": CLIENT_ID,
        "auth_uri": AUTH_URI,
        "token_uri": TOKEN_URI,
        "auth_provider_x509_cert_url": AUTH_PROVIDER_X509_CERT_URL,
        "client_x509_cert_url": CLIENT_X509_CERT_URL,
        "universe_domain": UNIVERSE_DOMAIN,
    }

    credentials = service_account.Credentials.from_service_account_info(
        credentials_info
    )
    return credentials


credentials = get_credentials()
firestore_client = firestore.Client(credentials=credentials)
storage_client = storage.Client(credentials=credentials)